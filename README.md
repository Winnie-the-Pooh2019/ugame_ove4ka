# Сонная Овечка

Лёгкий раннер на Canvas с таблицей лидеров и “glass”‑UI. Игрок вводит имя/группу, бегает и улучшает рекорд; результаты сохраняются локально и на простом сервере с JSON‑хранилищем.

## Быстрый старт
- Требования: Node.js 18+
- Установка: `npm install`
- Запуск: `node server/index.js` (по умолчанию http://localhost:8787)
- Переменные окружения (опционально): `PORT`, `DATA_DIR`

## Зависимости / технологии
- npm: `express`, `cookie-parser`
- Встроенные Node модули: `fs`, `path`, `crypto`, `url`
- Клиент: HTML5 Canvas 2D, WebAudio API (микро‑эффекты), Fetch API, localStorage, Google Fonts (Manrope, JetBrains Mono)
- Архитектура: ES‑модули, без сборщика

## Структура
```
data/
  kit.png             # иконка (HUD)
  participants.json   # база лидерборда (создаётся сервером)
server/
  index.js            # Express + API
src/
  assets.js           # загрузка изображений
  audio.js            # звуки
  config.js           # константы игры
  draw.js             # фон, игрок, препятствия
  hitbox.js           # хитбоксы и AABB
  input.js            # клавиатура/тач
  leaderboard.js      # клиент для API + localStorage
  main.js             # цикл, UI, модалки
  obstacles.js        # спавн/движение препятствий
  state.js            # состояние
  utils.js            # утилиты
svg/                  # (по желанию) дополнительные иконки
index.html            # разметка
style.css             # стили (glass, адаптив)
package.json
```

## Управление
- ПК: Space/↑ — прыжок, ↓ — пригиб, H — хитбоксы
- Мобильные: две большие кнопки снизу (показываются только во время забега)

## Серверное API
- `POST /api/register` — регистрация { name, group }
- `POST /api/change-name` — смена имени/группы
- `POST /api/submit-score` — сохранение счёта { score }
- `GET  /api/leaderboard?limit=10` — топ участников

## Что есть в игре
- Геймплей: плавное ускорение, прыжок/пригиб, два типа препятствий, честные зазоры по “времени реакции”
- Лидерборд: сортировка по рекорду (при равенстве — более ранняя регистрация выше), подсветка топ‑3 и своей строки
- UI: стеклянные карточки, аккуратная типографика, компактный режим на мобиле, бренд‑иконка в HUD
- Производительность: DPR‑скейл, минимальная перерисовка, лёгкие ассеты